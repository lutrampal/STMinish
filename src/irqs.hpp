
/*******************************************************************************
 * Module for all interrupt handlers (except reset)
 * This code is placed in ITCM by reset handler
 ******************************************************************************/

#ifndef _IRQS_HPP
#define _IRQS_HPP

/*******************************************************************************
 * INCLUDE DIRECTIVES
 ******************************************************************************/

#include "drivers/bsp/mcu.hpp"


/*******************************************************************************
 * DEFINE DIRECTIVES
 ******************************************************************************/

#define IRQ_ATTR __attribute__((section(".itcm_irqs")))


/*******************************************************************************
 * PUBLIC TYPE DEFINITIONS
 ******************************************************************************/

typedef void (*InterruptHandler)(void);


/*******************************************************************************
 * EXTERN CONSTANT DECLARATIONS
 ******************************************************************************/

__attribute__((aligned(0x200)))
__attribute__((section(".dtcm_vtable"))) extern volatile InterruptHandler
    g_vtable[hardware::nb_irqs];


/*******************************************************************************
 * EXTERN FUNCTION DECLARATIONS
 ******************************************************************************/

extern "C" {
void IRQ_ATTR handleError(void);
}


#endif
